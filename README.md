# oinote åä½œç¬”è®°å¹³å°

> ä¸€ä¸ªç°ä»£åŒ–çš„åä½œç¬”è®°å¹³å°ï¼Œæ”¯æŒå¤šç”¨æˆ·å®æ—¶åä½œã€å¯Œæ–‡æœ¬ç¼–è¾‘ã€æ–‡ä»¶å…±äº«ç­‰åŠŸèƒ½ã€‚

## é¡¹ç›®ç‰¹è‰²

- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - Vue 3 + Go Fiber + SQLite
- **å¯Œæ–‡æœ¬ç¼–è¾‘** - åŸºäº TipTap çš„å¼ºå¤§ç¼–è¾‘å™¨
- **å®æ—¶åä½œ** - é¢‘é“ç¬”è®°å¤šäººååŒç¼–è¾‘ï¼ˆåŸºäº Yjsï¼‰
- **é¢‘é“ç³»ç»Ÿ** - é¢‘é“èŠå¤©ã€æ¶ˆæ¯ç®¡ç†ã€æƒé™æ§åˆ¶
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **åª’ä½“æ”¯æŒ** - ä¼˜åŒ–çš„è§†é¢‘æ’­æ”¾å’Œæ–‡ä»¶å¤„ç†
- **è®¿å®¢æ¨¡å¼** - å…¬å¼€å†…å®¹è®¿é—®ï¼Œå‹å¥½çš„ç”¨æˆ·ä½“éªŒ
- **AI åŠŸèƒ½** - AI æ€»ç»“å’Œæ¶¦è‰²ç¬”è®°å†…å®¹

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Go 1.25+
- Git

### å®‰è£…è¿è¡Œ

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/MiXiaoAi/oinote.git
cd oinote
```

#### 2. å¯åŠ¨åç«¯
```bash
cd backend
go mod download
go run main.go
```
åç«¯æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨

#### 3. å¯åŠ¨å‰ç«¯
```bash
cd frontend
pnpm install
pnpm dev
```
å‰ç«¯æœåŠ¡å°†åœ¨ `http://localhost:5173` å¯åŠ¨

#### 4. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173`

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Vue 3.5.24** - ä½¿ç”¨ Composition API çš„ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Pinia 3.0.4** - çŠ¶æ€ç®¡ç†
- **Vue Router 4.6.4** - è·¯ç”±ç®¡ç†
- **TipTap 3.18.0** - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆæ”¯æŒå›¾ç‰‡ã€è¡¨æ ¼ã€æ–‡æœ¬å¯¹é½ã€é“¾æ¥ç­‰ï¼‰
- **DaisyUI 5.5.14** - åŸºäº Tailwind CSS çš„ UI ç»„ä»¶åº“
- **Tailwind CSS 4.1.18** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **Vite 7.2.4** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Axios 1.13.4** - HTTP å®¢æˆ·ç«¯
- **Lucide Vue Next** - å›¾æ ‡åº“

### åç«¯æŠ€æœ¯æ ˆ
- **Go 1.25.6** - åç«¯ç¼–ç¨‹è¯­è¨€
- **Fiber 2.52.10** - é«˜æ€§èƒ½ Web æ¡†æ¶
- **GORM 1.31.1** - ORM æ¡†æ¶
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **JWT 5.3.1** - æ— çŠ¶æ€ä»¤ç‰Œè®¤è¯
- **WebSocket** - å®æ—¶é€šä¿¡æ”¯æŒ

### ç³»ç»Ÿæ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vue 3 å‰ç«¯     â”‚â”€â”€â”€â”€â”‚  Go Fiber åç«¯  â”‚â”€â”€â”€â”€â”‚  SQLite æ•°æ®åº“  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ - ç”¨æˆ·ç•Œé¢       â”‚    â”‚ - RESTful API   â”‚    â”‚ - ç”¨æˆ·æ•°æ®       â”‚
â”‚ - çŠ¶æ€ç®¡ç†       â”‚    â”‚ - JWTè®¤è¯        â”‚    â”‚ - ç¬”è®°å†…å®¹       â”‚
â”‚ - è·¯ç”±ç®¡ç†       â”‚    â”‚ - æ–‡ä»¶æœåŠ¡       â”‚    â”‚ - é¢‘é“ä¿¡æ¯       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é¡¹ç›®ç»“æ„

```
oinote/
â”œâ”€â”€ backend/                 # Go åç«¯
â”‚   â”œâ”€â”€ api/                # API å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ai.go           # AI åŠŸèƒ½ API
â”‚   â”‚   â”œâ”€â”€ auth.go         # è®¤è¯ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ channel.go      # é¢‘é“ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ channels.go     # é¢‘é“åˆ—è¡¨ API
â”‚   â”‚   â”œâ”€â”€ files.go        # æ–‡ä»¶æœåŠ¡ API
â”‚   â”‚   â”œâ”€â”€ media.go        # åª’ä½“æ–‡ä»¶æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ note.go         # å•ä¸ªç¬”è®° API
â”‚   â”‚   â”œâ”€â”€ notes.go        # ç¬”è®°åˆ—è¡¨ API
â”‚   â”‚   â””â”€â”€ upload.go       # æ–‡ä»¶ä¸Šä¼  API
â”‚   â”œâ”€â”€ config/             # é…ç½®
â”‚   â”‚   â””â”€â”€ db.go           # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ data/               # æ•°æ®ç›®å½•
â”‚   â”‚   â”œâ”€â”€ oinote.db       # SQLite æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ uploads/        # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â”‚       â”œâ”€â”€ channels/   # é¢‘é“æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ notes/      # ç¬”è®°é™„ä»¶
â”‚   â”‚       â””â”€â”€ others/     # å…¶ä»–æ–‡ä»¶
â”‚   â”œâ”€â”€ internal/           # å†…éƒ¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ collab/         # ååŒç¼–è¾‘æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ collab_handler.go  # WebSocket å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ yjs_server.go      # Yjs æœåŠ¡å™¨å®ç°
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ auth.go     # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ schema.go   # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ jwt.go      # JWT å·¥å…·
â”‚   â”‚   â””â”€â”€ websocket/      # WebSocket
â”‚   â”‚       â””â”€â”€ hub.go      # WebSocket æ¶ˆæ¯ä¸­å¿ƒ
â”‚   â”œâ”€â”€ main.go             # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ go.mod              # Go æ¨¡å—é…ç½®
â”‚   â””â”€â”€ go.sum              # Go ä¾èµ–é”å®š
â”‚
â”œâ”€â”€ frontend/               # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/            # API è°ƒç”¨
â”‚   â”‚   â”‚   â””â”€â”€ axios.js    # Axios é…ç½®
â”‚   â”‚   â”œâ”€â”€ assets/         # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ components/     # Vue ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ManageModal.vue    # ç®¡ç†æ¨¡æ€æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ MediaPlayer.vue    # åª’ä½“æ’­æ”¾å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ MobileDrawer.vue   # ç§»åŠ¨ç«¯æŠ½å±‰
â”‚   â”‚   â”‚   â””â”€â”€ Sidebar.vue        # ä¾§è¾¹æ 
â”‚   â”‚   â”œâ”€â”€ data/           # æ•°æ®æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ quotes.txt  # å¼•ç”¨æ–‡æœ¬
â”‚   â”‚   â”œâ”€â”€ layouts/        # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ MainLayout.vue     # ä¸»å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ index.js    # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ stores/         # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js     # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ theme.js    # ä¸»é¢˜çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ eventBus.js     # äº‹ä»¶æ€»çº¿
â”‚   â”‚   â”‚   â”œâ”€â”€ urlHelper.js    # URL è¾…åŠ©å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ websocket.js    # WebSocket å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ yjs-collab.js   # Yjs ååŒç¼–è¾‘å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ Auth/           # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue   # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Register.vue # æ³¨å†Œé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Approvals.vue   # å®¡æ‰¹é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ ChannelsList.vue # é¢‘é“åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ChannelView.vue  # é¢‘é“è§†å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue         # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ NoteEditor.vue   # ç¬”è®°ç¼–è¾‘å™¨ï¼ˆå«ååŒç¼–è¾‘ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ NotesList.vue    # ç¬”è®°åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ App.vue         # æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.js         # åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ style.css       # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ public/             # å…¬å…±é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html          # HTML å…¥å£
â”‚   â”œâ”€â”€ package.json        # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.js      # Vite é…ç½®
â”‚
â”œâ”€â”€ .gitignore              # Git å¿½ç•¥é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## æ•°æ®åº“æ¨¡å‹

### Userï¼ˆç”¨æˆ·ï¼‰
- `id` - ç”¨æˆ· ID
- `username` - ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰
- `email` - é‚®ç®±ï¼ˆå”¯ä¸€ï¼‰
- `password` - å¯†ç ï¼ˆbcrypt å“ˆå¸Œï¼‰
- `avatar` - å¤´åƒ URL
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### Channelï¼ˆé¢‘é“ï¼‰
- `id` - é¢‘é“ ID
- `name` - é¢‘é“åç§°
- `description` - é¢‘é“æè¿°
- `is_public` - æ˜¯å¦å…¬å¼€
- `owner_id` - æ‰€æœ‰è€… ID
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### ChannelMemberï¼ˆé¢‘é“æˆå‘˜ï¼‰
- `id` - æˆå‘˜ ID
- `channel_id` - é¢‘é“ ID
- `user_id` - ç”¨æˆ· ID
- `role` - è§’è‰²ï¼ˆ'owner', 'admin', 'member'ï¼‰
- `status` - çŠ¶æ€ï¼ˆ'active', 'pending', 'invited'ï¼‰
- `joined_at` - åŠ å…¥æ—¶é—´

### Noteï¼ˆç¬”è®°ï¼‰
- `id` - ç¬”è®° ID
- `title` - æ ‡é¢˜
- `content` - å†…å®¹ï¼ˆHTMLï¼‰
- `is_public` - æ˜¯å¦å…¬å¼€
- `author_id` - ä½œè€… ID
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### Attachmentï¼ˆé™„ä»¶ï¼‰
- `id` - é™„ä»¶ ID
- `file_name` - æ–‡ä»¶å
- `file_path` - æ–‡ä»¶è·¯å¾„
- `file_size` - æ–‡ä»¶å¤§å°
- `file_type` - æ–‡ä»¶ç±»å‹ï¼ˆ'note_attachment', 'channel_file'ï¼‰
- `uploader_id` - ä¸Šä¼ è€… ID
- `channel_id` - é¢‘é“ IDï¼ˆå¯é€‰ï¼‰
- `note_id` - ç¬”è®° IDï¼ˆå¯é€‰ï¼‰
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### ChannelMessageï¼ˆé¢‘é“æ¶ˆæ¯ï¼‰
- `id` - æ¶ˆæ¯ ID
- `channel_id` - é¢‘é“ ID
- `user_id` - ç”¨æˆ· ID
- `content` - æ¶ˆæ¯å†…å®¹
- `attachment_id` - é™„ä»¶ IDï¼ˆå¯é€‰ï¼‰
- `is_highlighted` - æ˜¯å¦é«˜äº®
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

### API è·¯ç”±

#### å…¬å…±è·¯ç”±ï¼ˆæ— éœ€è®¤è¯ï¼‰
- `POST /api/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/login` - ç”¨æˆ·ç™»å½•ï¼ˆç»†åŒ–é”™è¯¯æç¤ºï¼‰
- `POST /api/auth/change-password` - ä¿®æ”¹å¯†ç 
- `GET /api/public/notes` - è·å–å…¬å¼€ç¬”è®°

#### å¯é€‰è®¤è¯è·¯ç”±ï¼ˆè®¿å®¢æˆ–ç™»å½•ç”¨æˆ·ï¼‰
- `GET /api/notes/search` - æœç´¢ç¬”è®°å’Œé¢‘é“
- `GET /api/public/channels` - è·å–å…¬å¼€é¢‘é“
- `GET /api/channels/:id` - è·å–é¢‘é“è¯¦æƒ…
- `GET /api/channels/:id/messages` - è·å–é¢‘é“æ¶ˆæ¯
- `GET /api/notes/:id` - è·å–ç¬”è®°è¯¦æƒ…
- `GET /api/notes` - è·å–ç¬”è®°åˆ—è¡¨

#### ç§æœ‰è·¯ç”±ï¼ˆéœ€è¦ç™»å½•ï¼‰
- `GET /api/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/me` - æ›´æ–°å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/channels` - è·å–ç”¨æˆ·çš„é¢‘é“åˆ—è¡¨
- `POST /api/channels` - åˆ›å»ºé¢‘é“
- `PUT /api/channels/:id` - æ›´æ–°é¢‘é“
- `DELETE /api/channels/:id` - åˆ é™¤é¢‘é“
- `POST /api/channels/:id/messages` - å‘é€æ¶ˆæ¯
- `DELETE /api/channels/:id/messages/:messageId` - åˆ é™¤æ¶ˆæ¯
- `PUT /api/channels/:id/messages/:messageId/highlight` - é«˜äº®æ¶ˆæ¯
- `POST /api/channels/invite` - é‚€è¯·ç”¨æˆ·
- `DELETE /api/channels/:id/members/:userId` - ç§»é™¤æˆå‘˜
- `POST /api/channels/:id/join` - ç”³è¯·åŠ å…¥é¢‘é“
- `POST /api/channels/approvals` - å¤„ç†æˆå‘˜ç”³è¯·
- `GET /api/channels/approvals/pending` - è·å–å¾…å®¡æ‰¹åˆ—è¡¨
- `POST /api/channels/approvals/:id/accept` - æ¥å—é‚€è¯·
- `DELETE /api/channels/approvals/:id` - æ‹’ç»ç”³è¯·
- `GET /api/notes` - è·å–ç¬”è®°åˆ—è¡¨
- `POST /api/notes` - åˆ›å»ºç¬”è®°
- `PUT /api/notes/:id` - æ›´æ–°ç¬”è®°
- `DELETE /api/notes/:id` - åˆ é™¤ç¬”è®°
- `POST /api/upload` - ä¸Šä¼ æ–‡ä»¶
- `GET /media/*` - è·å–åª’ä½“æ–‡ä»¶ï¼ˆæ”¯æŒ Range è¯·æ±‚ï¼‰
- `/uploads/*` - é™æ€æ–‡ä»¶æœåŠ¡
- `GET /ws` - WebSocket è¿æ¥ï¼ˆéœ€ä¼ é€’ userId å‚æ•°ï¼‰

#### ç®¡ç†å‘˜è·¯ç”±
- `GET /api/admin/ai-config` - è·å– AI é…ç½®
- `PUT /api/admin/ai-config` - æ›´æ–° AI é…ç½®
- `GET /api/admin/stats` - è·å–ç³»ç»Ÿç»Ÿè®¡
- `GET /api/admin/users` - è·å–æ‰€æœ‰ç”¨æˆ·
- `PUT /api/admin/users/:id/role` - æ›´æ–°ç”¨æˆ·è§’è‰²
- `DELETE /api/admin/users/:id` - åˆ é™¤ç”¨æˆ·
- `GET /api/admin/notes` - è·å–æ‰€æœ‰ç¬”è®°
- `DELETE /api/admin/notes/:id` - ç®¡ç†å‘˜åˆ é™¤ç¬”è®°
- `GET /api/admin/channels` - è·å–æ‰€æœ‰é¢‘é“
- `PUT /api/admin/channels/:id/public` - åˆ‡æ¢é¢‘é“å…¬å¼€çŠ¶æ€

#### AI åŠŸèƒ½è·¯ç”±
- `POST /api/ai/summarize` - AI æ€»ç»“ç¬”è®°
- `POST /api/ai/polish` - AI æ¶¦è‰²ç¬”è®°

## å‰ç«¯è·¯ç”±

### ä¸»å¸ƒå±€è·¯ç”±
- `/` - é¦–é¡µï¼ˆå…¬å¼€é¢‘é“å’Œç¬”è®°ï¼‰
- `/notes` - ç¬”è®°åˆ—è¡¨
- `/channels` - é¢‘é“åˆ—è¡¨
- `/channel/:id` - é¢‘é“è¯¦æƒ…ï¼ˆèŠå¤©/ç¬”è®°æ¨¡å¼åˆ‡æ¢ï¼‰
- `/note/:id?` - ç¬”è®°ç¼–è¾‘å™¨
- `/approvals` - å®¡æ‰¹é¡µé¢ï¼ˆéœ€è¦ç™»å½•ï¼‰

### è®¤è¯è·¯ç”±
- `/login` - ç™»å½•é¡µï¼ˆå«ä¿®æ”¹å¯†ç åŠŸèƒ½ï¼‰
- `/register` - æ³¨å†Œé¡µ

## åŠŸèƒ½ä»‹ç»

### ç¬”è®°ç®¡ç†
- å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒå›¾ç‰‡ã€è¡¨æ ¼ã€é“¾æ¥ç­‰
- ç¬”è®°åˆ†ç±»å’Œæ ‡ç­¾ç³»ç»Ÿ
- å…¬å¼€/ç§æœ‰ç¬”è®°è®¾ç½®
- è‡ªåŠ¨ä¿å­˜å’Œå†å²è®°å½•
- å›¾ç‰‡æ‹–æ‹½ä¸Šä¼ å’Œç²˜è´´ä¸Šä¼ 
- å›¾ç‰‡å³é”®èœå•ç¼–è¾‘å’Œåˆ é™¤
- å›¾ç‰‡å¯è°ƒæ•´å¤§å°
- é¢‘é“ç¬”è®°ç®¡ç†ï¼ˆå³é”®èœå•ç®¡ç†åŠŸèƒ½ï¼‰

### é¢‘é“åä½œ
- åˆ›å»ºå…¬å¼€æˆ–ç§æœ‰é¢‘é“
- å®æ—¶èŠå¤©å’Œæ¶ˆæ¯äº¤æµ
- æ–‡ä»¶åˆ†äº«å’Œåª’ä½“æ’­æ”¾
- æˆå‘˜ç®¡ç†å’Œæƒé™æ§åˆ¶
- æ¶ˆæ¯é«˜äº®åŠŸèƒ½
- é¢‘é“æˆå‘˜ç”³è¯·å’Œå®¡æ‰¹
- é¢‘é“è§†å›¾æ¨¡å¼åˆ‡æ¢ï¼ˆèŠå¤©/ç¬”è®°ï¼‰

### å…¨å±€æœç´¢
- å®æ—¶æœç´¢ï¼ˆè¾“å…¥æ—¶è‡ªåŠ¨æœç´¢ï¼‰
- æœç´¢èŒƒå›´ï¼šç¬”è®°å’Œé¢‘é“
- æœç´¢å­—æ®µï¼šæ ‡é¢˜ã€å†…å®¹ã€æ ‡ç­¾
- æ˜¾ç¤ºåŒ¹é…åŸå› ï¼ˆæ ‡é¢˜åŒ¹é…ã€å†…å®¹åŒ¹é…ã€æ ‡ç­¾åŒ¹é…ï¼‰
- ç¬”è®°æœç´¢ç»“æœæ˜¾ç¤ºï¼šæ ‡é¢˜ã€ä½œè€…ã€æ˜¯å¦é¢‘é“ç¬”è®°ã€æ ‡ç­¾ã€æ›´æ–°æ—¶é—´
- é¢‘é“æœç´¢ç»“æœæ˜¾ç¤ºï¼šåç§°ã€æè¿°ã€æ ‡ç­¾

### ç”¨æˆ·ç³»ç»Ÿ
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- ä¸ªäººèµ„æ–™ç®¡ç†
- å¤´åƒä¸Šä¼ å’Œè‡ªå®šä¹‰
- å¯†ç ä¿®æ”¹åŠŸèƒ½
- ç»†åŒ–çš„é”™è¯¯æç¤ºï¼ˆç”¨æˆ·åä¸å­˜åœ¨/å¯†ç é”™è¯¯ï¼‰
- JWTä»¤ç‰Œè®¤è¯
- ç”¨æˆ·è§’è‰²ç®¡ç†ï¼ˆç®¡ç†å‘˜å¯æ›´æ”¹ç”¨æˆ·è§’è‰²ï¼‰

### åå°ç®¡ç†ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯
- ç”¨æˆ·ç®¡ç†ï¼ˆæŸ¥çœ‹ã€æ›´æ”¹è§’è‰²ã€åˆ é™¤ï¼‰
- ç¬”è®°ç®¡ç†ï¼ˆæŸ¥çœ‹ã€åˆ é™¤ï¼‰
- é¢‘é“ç®¡ç†ï¼ˆæŸ¥çœ‹ã€åˆ‡æ¢å…¬å¼€çŠ¶æ€ã€åˆ é™¤ï¼‰
- AI é…ç½®ç®¡ç†ï¼ˆOpenAI API è®¾ç½®ï¼‰

## å¼€å‘æŒ‡å—

### ç¯å¢ƒé…ç½®

#### åç«¯é…ç½®
- ç«¯å£ï¼š3000
- æ•°æ®åº“ï¼š`backend/data/oinote.db`
- ä¸Šä¼ ç›®å½•ï¼š`backend/data/uploads/`
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼š2GBï¼ˆé€šè¿‡ BodyLimit é…ç½®ï¼‰
- ç¬”è®°é™„ä»¶é™åˆ¶ï¼š100MBï¼ˆåœ¨ä»£ç ä¸­é™åˆ¶ï¼‰

#### å‰ç«¯é…ç½®
- å¼€å‘ç«¯å£ï¼š5173
- API åœ°å€ï¼š`http://localhost:3000/api`

### å¼€å‘æµç¨‹

1. **åŠŸèƒ½å¼€å‘**
   - åç«¯ï¼šåœ¨ `handlers/` æ·»åŠ æ–°çš„APIå¤„ç†å™¨
   - å‰ç«¯ï¼šåœ¨ `src/views/` æ·»åŠ æ–°çš„é¡µé¢ç»„ä»¶

2. **æ•°æ®åº“è¿ç§»**
   - ä¿®æ”¹ `internal/models/schema.go` ä¸­çš„æ•°æ®æ¨¡å‹
   - å¯åŠ¨åº”ç”¨æ—¶è‡ªåŠ¨è¿ç§»æ•°æ®åº“ç»“æ„

3. **æµ‹è¯•éªŒè¯**
   - ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è°ƒè¯•
   - æŸ¥çœ‹åç«¯æ—¥å¿—ç¡®è®¤APIè°ƒç”¨

### å¼€å‘è§„èŒƒ

#### å‰ç«¯
- ä½¿ç”¨ Vue 3 Composition API
- ä½¿ç”¨ Pinia è¿›è¡ŒçŠ¶æ€ç®¡ç†
- ä½¿ç”¨ Tailwind CSS å’Œ DaisyUI
- ä½¿ç”¨ Axios è¿›è¡Œ API è°ƒç”¨
- TipTap ç¼–è¾‘å™¨é»˜è®¤å·¦å¯¹é½ï¼Œå›¾ç‰‡é»˜è®¤å®½åº¦ 20%

#### åç«¯
- ä½¿ç”¨ GORM è¿›è¡Œæ•°æ®åº“æ“ä½œ
- ä½¿ç”¨ Fiber çš„ Context å¤„ç†è¯·æ±‚
- ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼
- ä½¿ç”¨ JWT è¿›è¡Œè®¤è¯

#### Git
- åˆ†æ”¯å‘½åï¼š`feature/xxx`, `bugfix/xxx`
- æäº¤ä¿¡æ¯ä½¿ç”¨ä¸­æ–‡ï¼š`feat: æ–°åŠŸèƒ½`, `fix: ä¿®å¤bug`
- å¿½ç•¥æ–‡ä»¶ï¼šä¾èµ–ã€æ„å»ºè¾“å‡ºã€æ•°æ®åº“ã€ä¸Šä¼ æ–‡ä»¶ã€å¤‡ä»½æ–‡ä»¶

## å®‰å…¨ç‰¹æ€§

- **JWTè®¤è¯** - æ— çŠ¶æ€ä»¤ç‰Œè®¤è¯
- **å¯†ç åŠ å¯†** - bcryptå“ˆå¸ŒåŠ å¯†
- **è¾“å…¥éªŒè¯** - å‰åç«¯åŒé‡éªŒè¯
- **æ–‡ä»¶å®‰å…¨** - ç±»å‹æ£€æŸ¥å’Œè·¯å¾„éªŒè¯
- **æƒé™æ§åˆ¶** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **CORSé…ç½®** - å…è®¸è·¨åŸŸè¯·æ±‚

### âš ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

**æœ¬é¡¹ç›®ç›®å‰å¤„äºå¼€å‘é˜¶æ®µï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰è¯·åŠ¡å¿…æ³¨æ„ä»¥ä¸‹å®‰å…¨é—®é¢˜ï¼š**

1. **JWT å¯†é’¥ç®¡ç†**
   - å½“å‰ JWT å¯†é’¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼ˆ`backend/internal/middleware/auth.go` å’Œ `backend/internal/utils/jwt.go`ï¼‰
   - **ç”Ÿäº§ç¯å¢ƒå¿…é¡»**ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨å¯†é’¥ï¼Œå¹¶ä½¿ç”¨å¼ºéšæœºå¯†é’¥
   ```bash
   # ç”Ÿæˆå¼ºéšæœºå¯†é’¥ç¤ºä¾‹
   openssl rand -base64 32
   ```

2. **CORS é…ç½®**
   - å½“å‰å…è®¸æ‰€æœ‰åŸŸåè®¿é—®ï¼ˆ`AllowOrigins: "*"`ï¼‰
   - **ç”Ÿäº§ç¯å¢ƒå¿…é¡»**ï¼šé™åˆ¶ä¸ºç‰¹å®šçš„å‰ç«¯åŸŸå
   ```go
   AllowOrigins: "https://yourdomain.com",
   ```

3. **æ•°æ®åº“å®‰å…¨**
   - å½“å‰ä½¿ç”¨ SQLiteï¼Œé€‚åˆå¼€å‘å’Œå°è§„æ¨¡éƒ¨ç½²
   - **ç”Ÿäº§ç¯å¢ƒå»ºè®®**ï¼šè¿ç§»åˆ° PostgreSQL æˆ– MySQL
   - å®šæœŸå¤‡ä»½æ•°æ®åº“æ–‡ä»¶

4. **æ–‡ä»¶ä¸Šä¼ **
   - å½“å‰æ–‡ä»¶å¤§å°é™åˆ¶ä¸º 2GB
   - **å»ºè®®**ï¼šæ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´é™åˆ¶
   - å®ç°æ–‡ä»¶ç±»å‹ç™½åå•éªŒè¯
   - å®šæœŸæ¸…ç†æœªä½¿ç”¨çš„æ–‡ä»¶

5. **é€Ÿç‡é™åˆ¶**
   - å½“å‰æœªå®ç° API é€Ÿç‡é™åˆ¶
   - **ç”Ÿäº§ç¯å¢ƒå»ºè®®**ï¼šæ·»åŠ é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶é˜²æ­¢æ»¥ç”¨

## å¸¸è§é—®é¢˜

1. **è·¨åŸŸé—®é¢˜**ï¼šåç«¯å·²é…ç½® CORS å…è®¸æ‰€æœ‰æ¥æºï¼ˆç”Ÿäº§ç¯å¢ƒéœ€ä¿®æ”¹ï¼‰
2. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**ï¼šæ£€æŸ¥åç«¯ BodyLimit é…ç½®å’Œç›®å½•æƒé™
3. **WebSocket æ–­è¿**ï¼šæ£€æŸ¥è¿æ¥ ID å’Œç”¨æˆ· ID ä¼ é€’ï¼Œç½‘ç»œä¸ç¨³å®šæ—¶ä¼šè‡ªåŠ¨é‡è¿
4. **æ•°æ®åº“è¿ç§»å¤±è´¥**ï¼šåˆ é™¤ `backend/data/oinote.db` é‡æ–°è¿è¡Œåç«¯
5. **ååŒç¼–è¾‘ä¸åŒæ­¥**ï¼šæ£€æŸ¥ WebSocket è¿æ¥çŠ¶æ€ï¼Œåˆ·æ–°é¡µé¢é‡æ–°è¿æ¥
6. **é»˜è®¤ç®¡ç†å‘˜è´¦å·**ï¼šé¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨åˆ›å»º `admin/admin` è´¦å·

## éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²
å‚è€ƒä¸Šé¢çš„"å¿«é€Ÿå¼€å§‹"éƒ¨åˆ†

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `.env` æ–‡ä»¶ï¼ˆæœªæ¥ç‰ˆæœ¬å°†æ”¯æŒï¼‰ï¼š
```bash
# JWT å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼‰
JWT_SECRET=your-super-secret-key-change-me

# æœåŠ¡å™¨é…ç½®
PORT=3000
FRONTEND_URL=https://yourdomain.com

# æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨ SQLiteï¼‰
DB_TYPE=sqlite
DB_PATH=./data/oinote.db
```

#### 2. å‰ç«¯æ„å»º
```bash
cd frontend
pnpm install
pnpm build
```

#### 3. åç«¯ç¼–è¯‘
```bash
cd backend
go build -o oinote main.go
```

#### 4. ä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰
```dockerfile
# ç¤ºä¾‹ Dockerfileï¼ˆéœ€è¦è‡ªè¡Œåˆ›å»ºï¼‰
FROM golang:1.25-alpine AS backend-builder
WORKDIR /app
COPY backend/ .
RUN go build -o oinote main.go

FROM node:18-alpine AS frontend-builder
WORKDIR /app
COPY frontend/ .
RUN npm install -g pnpm && pnpm install && pnpm build

FROM alpine:latest
WORKDIR /app
COPY --from=backend-builder /app/oinote .
COPY --from=frontend-builder /app/dist ./frontend/dist
EXPOSE 3000
CMD ["./oinote"]
```

#### 5. åå‘ä»£ç†é…ç½®ï¼ˆNginxï¼‰
```nginx
server {
    listen 80;
    server_name yourdomain.com;

    location / {
        proxy_pass http://localhost:5173;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /ws {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "Upgrade";
        proxy_set_header Host $host;
    }
}
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### æäº¤è§„èŒƒ
- ä½¿ç”¨æ¸…æ™°çš„ä¸­æ–‡æäº¤ä¿¡æ¯
- éµå¾ªä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### å¼€å‘è§„èŒƒ
- å‰ç«¯ä½¿ç”¨ ESLint + Prettier
- åç«¯ä½¿ç”¨ go fmt
- æäº¤å‰è¿è¡Œæµ‹è¯•
- ä¿æŒä»£ç ç®€æ´æ¸…æ™°

### æŠ¥å‘Šé—®é¢˜
- ä½¿ç”¨ GitHub Issues æŠ¥å‘Š bug
- æä¾›è¯¦ç»†çš„å¤ç°æ­¥éª¤
- åŒ…å«é”™è¯¯æ—¥å¿—å’Œæˆªå›¾
- è¯´æ˜è¿è¡Œç¯å¢ƒï¼ˆæ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç­‰ï¼‰

## ç‰ˆæœ¬å†å²

### v1.1.0 (2026-02-02)
- âœ¨ æ–°å¢é¢‘é“ç¬”è®°å¤šäººååŒç¼–è¾‘åŠŸèƒ½ï¼ˆåŸºäº Yjsï¼‰
- âœ¨ æ–°å¢ AI æ€»ç»“å’Œæ¶¦è‰²åŠŸèƒ½
- âœ¨ æ–°å¢å…¨å±€æœç´¢åŠŸèƒ½ï¼ˆç¬”è®°å’Œé¢‘é“ï¼‰
- ğŸ¨ ä¼˜åŒ–ç§»åŠ¨ç«¯å·¥å…·æ å¸ƒå±€
- ğŸ› ä¿®å¤è®¿å®¢æœç´¢åŠŸèƒ½
- ğŸ› ä¿®å¤ç§»åŠ¨ç«¯è¾“å…¥æ³•å†²çªé—®é¢˜
- ğŸ“ æ›´æ–°é¡¹ç›®æ–‡æ¡£

### v1.0.0 (2024)
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ åŸºç¡€ç¬”è®°ç¼–è¾‘åŠŸèƒ½
- âœ¨ é¢‘é“èŠå¤©åŠŸèƒ½
- âœ¨ ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- âœ¨ æ–‡ä»¶ä¸Šä¼ å’Œåª’ä½“æ’­æ”¾

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

**å…è´£å£°æ˜**ï¼šæœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰ï¼Œè¯·åŠ¡å¿…è¿›è¡Œå……åˆ†çš„å®‰å…¨å®¡è®¡å’Œæ€§èƒ½æµ‹è¯•ã€‚ä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬é¡¹ç›®é€ æˆçš„ä»»ä½•æŸå¤±è´Ÿè´£ã€‚

## è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [Go Fiber](https://docs.gofiber.io/) - åç«¯æ¡†æ¶
- [TipTap](https://tiptap.dev/) - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- [DaisyUI](https://daisyui.com/) - UIç»„ä»¶åº“
- [Lucide](https://lucide.dev/) - å›¾æ ‡åº“
- [Yjs](https://github.com/yjs/yjs) - CRDT ååŒç¼–è¾‘æ¡†æ¶
- [y-crdt (Go)](https://github.com/skyterra/y-crdt) - Yjs çš„ Go å®ç°

## è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: https://github.com/MiXiaoAi/oinote
- **ä½œè€…**: MiXiaoAi
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/MiXiaoAi/oinote/issues)

## é¡¹ç›®çŠ¶æ€

![GitHub stars](https://img.shields.io/github/stars/MiXiaoAi/oinote?style=social)
![GitHub forks](https://img.shields.io/github/forks/MiXiaoAi/oinote?style=social)
![GitHub issues](https://img.shields.io/github/issues/MiXiaoAi/oinote)
![GitHub license](https://img.shields.io/github/license/MiXiaoAi/oinote)

**å¼€å‘çŠ¶æ€**: ğŸš§ æ´»è·ƒå¼€å‘ä¸­

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ â­ï¼